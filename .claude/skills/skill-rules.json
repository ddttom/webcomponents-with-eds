{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)"
                ]
            }
        },
        "eds-block-development": {
            "type": "domain",
            "enforcement": "warn",
            "priority": "critical",
            "description": "EDS block development using vanilla JavaScript, Content Driven Development, and block decoration patterns. CRITICAL: Prevents CSS class conflicts with EDS reserved names. CRITICAL: Enforces single JavaScript file per block regardless of variations.",
            "promptTriggers": {
                "keywords": [
                    "block",
                    "create block",
                    "new block",
                    "block development",
                    "decorate function",
                    "block decoration",
                    "EDS block",
                    "block structure",
                    "block content",
                    "block wrapper",
                    "block container",
                    "CSS class",
                    "block variation",
                    "variation",
                    "block variant",
                    "create variation"
                ],
                "intentPatterns": [
                    "(create|add|build|make).*?block",
                    "(modify|update|edit).*?block",
                    "(how to|how do I).*?block",
                    "block.*?(work|structure|pattern)",
                    "(name|naming).*?(class|CSS)",
                    "class.*?(name|naming)",
                    "(create|add|build|make).*?variation.*?block",
                    "block.*?variation",
                    "variation.*?(block|of.*?block)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/*.js",
                    "blocks/**/*.css"
                ],
                "pathExclusions": [
                    "**/test.html",
                    "**/test-*.js"
                ],
                "contentPatterns": [
                    "export default function decorate",
                    "function decorate\\(block\\)",
                    "\\.block-"
                ],
                "dangerousPatterns": [
                    "\\.\\w+-container\\s*\\{",
                    "\\.\\w+-wrapper\\s*\\{",
                    "className.*['\"]\\w+-container['\"]",
                    "className.*['\"]\\w+-wrapper['\"]",
                    "classList\\.add\\(['\"]\\w+-container['\"]\\)",
                    "classList\\.add\\(['\"]\\w+-wrapper['\"]\\)"
                ]
            },
            "warnings": {
                "reservedClassNames": {
                    "message": "⚠️ CRITICAL: Detected potential EDS reserved class name conflict! EDS automatically adds '-container' and '-wrapper' suffixes. Use different suffixes like '-backdrop', '-modal', '-panel', or '-inner' instead.",
                    "severity": "critical",
                    "autoTrigger": true
                }
            }
        },
        "eds-block-testing": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing EDS blocks using test.html files and development server",
            "promptTriggers": {
                "keywords": [
                    "test block",
                    "testing",
                    "test.html",
                    "debug block",
                    "block testing",
                    "test file",
                    "development server"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?block",
                    "(how to|how do I).*?test.*?block",
                    "test.*?file"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/test.html",
                    "**/test-*.html"
                ],
                "contentPatterns": [
                    "loadBlock\\(",
                    "sampleRUM\\(",
                    "from.*aem\\.js"
                ]
            }
        },
        "eds-performance-debugging": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Debugging and performance optimization for EDS blocks including error handling and Core Web Vitals",
            "promptTriggers": {
                "keywords": [
                    "error",
                    "debug",
                    "performance",
                    "slow",
                    "FOUC",
                    "Core Web Vitals",
                    "optimization",
                    "console.error"
                ],
                "intentPatterns": [
                    "(fix|debug|handle).*?error",
                    "(improve|optimize).*?performance",
                    "(eliminate|prevent).*?FOUC"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/*.js",
                    "scripts/**/*.js"
                ],
                "contentPatterns": [
                    "console\\.error",
                    "try \\{",
                    "catch \\(error\\)"
                ]
            }
        },
        "jupyter-notebook-testing": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Creating and managing Jupyter notebooks for testing EDS blocks with jsdom and JSLab. Use when creating notebooks, testing blocks with ipynb files, using jslab kernel, generating HTML previews, working with testBlock or saveBlockHTML functions, or setting up interactive block testing environments.",
            "promptTriggers": {
                "keywords": [
                    "test notebook",
                    "testing blocks",
                    "jslab",
                    "jsdom",
                    "testBlock",
                    "saveBlockHTML",
                    "loadBlockStyles",
                    "block testing",
                    "test block",
                    "debug block",
                    "kernel",
                    "tslab",
                    "virtual DOM",
                    "HTML preview",
                    "CSS linking",
                    "live reload"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?block.*?(notebook|ipynb)",
                    "notebook.*?(block|testing|debug)",
                    "(how to|how do I).*?test.*?block.*?notebook",
                    "(generate|create|save).*?(HTML|preview).*?block",
                    "testBlock|saveBlockHTML|loadBlockStyles",
                    "jslab.*?(kernel|install|setup)",
                    "jsdom.*?(setup|environment|virtual DOM)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "test.ipynb",
                    "**/test-*.ipynb"
                ],
                "contentPatterns": [
                    "require\\('jsdom'\\)",
                    "from 'jsdom'",
                    "testBlock\\(",
                    "saveBlockHTML\\(",
                    "loadBlockStyles\\(",
                    "JSDOM\\(",
                    "jslab",
                    "global\\.document",
                    "global\\.window"
                ]
            }
        },
        "jupyter-educational-notebook": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Creating educational and interactive Jupyter notebooks as SPAs for explaining concepts, teaching topics, creating tutorials, or transforming text into engaging content. NOT for testing EDS blocks.",
            "promptTriggers": {
                "keywords": [
                    "educational notebook",
                    "interactive notebook",
                    "tutorial notebook",
                    "blog notebook",
                    "SPA notebook",
                    "explain topic",
                    "illustrate concept",
                    "teach interactively",
                    "create tutorial",
                    "interactive guide",
                    "notebook from text",
                    "transform text",
                    "engaging content",
                    "learning notebook",
                    "demonstration notebook",
                    "reference notebook",
                    "documentation notebook",
                    "ipynb-viewer",
                    "educational content",
                    "interactive demo"
                ],
                "intentPatterns": [
                    "(create|make|build|write).*?(tutorial|guide|blog|explanation).*?notebook",
                    "(transform|convert|turn).*?text.*?(notebook|interactive)",
                    "notebook.*?(explain|teach|illustrate|demonstrate)",
                    "(explain|illustrate|teach|demonstrate).*?(topic|concept).*?notebook",
                    "(interactive|educational).*?(tutorial|guide|demo|blog)",
                    "(how to|how do I).*(create|write).*?tutorial",
                    "notebook.*?(end user|client|learner|audience)"
                ]
            },
            "avoidTriggers": {
                "keywords": [
                    "test block",
                    "testing",
                    "debug",
                    "jsdom",
                    "testBlock",
                    "saveBlockHTML"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?block"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*-tutorial.ipynb",
                    "**/*-guide.ipynb",
                    "**/*-blog.ipynb",
                    "**/*-demo.ipynb",
                    "blog.ipynb",
                    "explain.ipynb",
                    "tutorial.ipynb",
                    "guide.ipynb"
                ],
                "pathExclusions": [
                    "test.ipynb",
                    "**/test-*.ipynb"
                ]
            }
        },
        "create-presentation": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Creating or updating presentation-mode Jupyter notebooks with embedded HTML/JavaScript in markdown cells using EDS blocks. Converts executable code cells to informative text. For presentations, slides, demos, showcases without user-executable code.",
            "promptTriggers": {
                "keywords": [
                    "presentation",
                    "create presentation",
                    "presentation notebook",
                    "convert to presentation",
                    "demo notebook",
                    "showcase",
                    "slides",
                    "non-interactive notebook",
                    "presentation mode",
                    "embedded blocks",
                    "inline javascript",
                    "inline html",
                    "inline styling",
                    "inline css",
                    "no executable code",
                    "convert code cells",
                    "markdown only",
                    "client presentation",
                    "product demo",
                    "style notebook",
                    "smarten",
                    "make look great",
                    "consistent styling"
                ],
                "intentPatterns": [
                    "(create|make|build).*?presentation.*?notebook",
                    "(convert|transform|update).*?notebook.*?presentation",
                    "(convert|remove).*?(executable|runnable).*?code",
                    "presentation.*?(embedded|inline).*?(blocks|javascript)",
                    "notebook.*?(client|presentation|demo|showcase)",
                    "(no|without|prevent).*?(executable|runnable).*?code",
                    "(embed|inline).*?(blocks|html|javascript).*?markdown"
                ]
            },
            "avoidTriggers": {
                "keywords": [
                    "test block",
                    "jsdom",
                    "testBlock",
                    "saveBlockHTML",
                    "interactive code",
                    "run code",
                    "execute javascript"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?block",
                    "(run|execute).*?code.*?cell"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*-presentation.ipynb",
                    "**/*-demo.ipynb",
                    "**/*-showcase.ipynb",
                    "**/*-slides.ipynb",
                    "presentation.ipynb",
                    "demo.ipynb",
                    "showcase.ipynb"
                ],
                "pathExclusions": [
                    "test.ipynb",
                    "**/test-*.ipynb"
                ]
            }
        },
        "ipynb-validator": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Validate Jupyter notebooks for production readiness. Checks smart links consistency, layout structure, transition cells with action cards, numbered part flow, cell ordering, and overall quality. Use when validating notebooks, checking structure, testing smart links, verifying action cards, or preparing for production.",
            "promptTriggers": {
                "keywords": [
                    "validate notebook",
                    "check notebook",
                    "verify notebook",
                    "notebook validation",
                    "ipynb validation",
                    "production ready",
                    "production readiness",
                    "smart links",
                    "check smart links",
                    "verify smart links",
                    "broken links",
                    "action cards",
                    "transitions",
                    "transition cells",
                    "part flow",
                    "section flow",
                    "cell ordering",
                    "notebook structure",
                    "layout structure",
                    "notebook quality",
                    "ready for prod",
                    "deploy notebook",
                    "notebook report",
                    "investigate ipynb",
                    "analyze notebook",
                    "check ipynb"
                ],
                "intentPatterns": [
                    "(validate|check|verify|test).*?notebook",
                    "(validate|check|verify).*?ipynb",
                    "notebook.*?(valid|production|ready|quality|structure)",
                    "(check|verify|test).*?(smart link|action card|transition)",
                    "(investigate|analyze|inspect).*?(notebook|ipynb)",
                    "production.*?(ready|readiness|deployment).*?notebook",
                    "(broken|missing|verify).*?link",
                    "(part|section).*?flow",
                    "notebook.*?(issue|problem|error)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.ipynb"
                ],
                "pathExclusions": [
                    "**/.ipynb_checkpoints/**"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Updated for EDS project: blocks/, scripts/, tools/, build/",
            "keywords": "Add domain-specific terms relevant to your project",
            "intentPatterns": "Use regex for flexible user intent matching",
            "project_type": "Adobe Edge Delivery Services (EDS) - vanilla JavaScript, no React"
        }
    }
}
